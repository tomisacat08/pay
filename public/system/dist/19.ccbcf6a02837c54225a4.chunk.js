webpackJsonp([19],{246:function(e,t,n){"use strict";function a(e){l||n(398)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(288),r=n.n(i);for(var o in i)"default"!==o&&function(e){n.d(t,e,function(){return i[e]})}(o);var s=n(400),c=(n.n(s),n(4)),l=!1,d=a,m=Object(c.a)(r.a,s.render,s.staticRenderFns,!1,d,null,null);m.options.__file="src\\views\\order\\refunds.vue",t.default=m.exports},288:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(32),i=function(e){return e&&e.__esModule?e:{default:e}}(a),r=function(e,t,n,a){return t("Button",{props:{type:"primary"},style:{margin:"0 5px"},on:{click:function(){if(n.get_money_qrcode_img_id<=0)return e.$Message.error("无关联信息");i.default.get("Index/getImgUrlById",{params:{id:n.return_money_img_id}}).then(function(t){n.loading=!1,1===t.data.code?e.handleView(t.data.data):e.$Message.error(t.data.msg)})}}},"收款信息")};t.default={name:"interface_group",data:function(){return{uploadUrl:"",uploadHeader:{},columnsList:[{title:"ID",width:65,align:"center",key:"id"},{title:"商户编号",align:"center",key:"merchant_id"},{title:"商户单号",align:"center",key:"merchant_order_sn"},{title:"收款金额",align:"center",key:"get_money"},{title:"返款金额",align:"center",key:"return_money"},{title:"收款人",align:"center",key:"member_id"},{title:"所属代理",align:"center",key:"agent_id"},{title:"返款时间",align:"center",key:"return_time"},{title:"返款凭证",align:"center",key:"handle",handle:["check"]}],tableData:[],over_money:"",over_num:"",tableShow:{currentPage:1,pageSize:10,listCount:0},imgInfo:"",visible:!1,searchConf:{id:"",merchant_order_sn:"",member_id:"",daterange:""}}},created:function(){this.init(),this.getList()},methods:{handleView:function(e){this.imgInfo=e,this.visible=!0},init:function(){var e=this;this.columnsList.forEach(function(t){t.handle&&(t.render=function(t,n){var a=e.tableData[n.index];if(a.return_money_img_id)return t("div",[r(e,t,a,n.index)])})})},timeChange:function(e){""===e[0]&&""===e[1]?this.searchConf.daterange="":this.searchConf.daterange=e},changePage:function(e){this.tableShow.currentPage=e,this.getList()},changeSize:function(e){this.tableShow.pageSize=e,this.getList()},search:function(){this.tableShow.currentPage=1,this.getList()},getList:function(){var e=this;i.default.get("MerchantOrder/refunds",{params:{page:e.tableShow.currentPage,size:e.tableShow.pageSize,id:e.searchConf.id,merchant_order_sn:e.searchConf.merchant_order_sn,member_id:e.searchConf.member_id,daterange:e.searchConf.daterange}}).then(function(t){var n=t.data;1===n.code?(e.tableData=n.data.list,e.tableShow.listCount=n.data.count):-14===n.code?(e.$store.commit("logout",e),e.$router.push({name:"login"})):e.$Message.error(n.msg)})},doCancel:function(e){e||(this.formItem.id=0)}}}},398:function(e,t,n){var a=n(399);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var i=n(15).default;i("c65b2d40",a,!1,{})},399:function(e,t,n){t=e.exports=n(14)(!1),t.push([e.i,"\n.titleTips {\n  width: 100%;\n}\n.titleTips .info .infoMsg {\n  display: inline-block;\n  padding-right: 20px;\n  color: #666;\n  font-size: 14px;\n}\n.titleTips .info .infoMsg .status {\n  color: #2d8cf0;\n  font-size: 18px;\n}\n",""])},400:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("Row",[n("Col",{attrs:{span:"24"}},[n("Card",{staticStyle:{"margin-bottom":"10px"}},[n("Form",{attrs:{inline:""}},[n("FormItem",{staticStyle:{"margin-bottom":"0"}},[n("Input",{attrs:{placeholder:"订单ID"},model:{value:e.searchConf.id,callback:function(t){e.$set(e.searchConf,"id",t)},expression:"searchConf.id"}})],1),e._v(" "),n("FormItem",{staticStyle:{"margin-bottom":"0"}},[n("Input",{attrs:{placeholder:"商户单号"},model:{value:e.searchConf.merchant_order_sn,callback:function(t){e.$set(e.searchConf,"merchant_order_sn",t)},expression:"searchConf.merchant_order_sn"}})],1),e._v(" "),n("FormItem",{staticStyle:{"margin-bottom":"0"}},[n("Input",{attrs:{placeholder:"收款人"},model:{value:e.searchConf.member_id,callback:function(t){e.$set(e.searchConf,"member_id",t)},expression:"searchConf.member_id"}})],1),e._v(" "),n("FormItem",{staticStyle:{"margin-bottom":"0"}},[n("Date-picker",{staticStyle:{width:"280px"},attrs:{type:"datetimerange",placeholder:"选择日期",format:"yyyy-MM-dd HH:mm:ss"},on:{"on-change":e.timeChange}})],1),e._v(" "),n("FormItem",{staticStyle:{"margin-bottom":"0"}},[n("Button",{attrs:{type:"primary"},on:{click:e.search}},[e._v("查询/刷新")])],1)],1)],1)],1)],1),e._v(" "),n("Row",[n("Col",{attrs:{span:"24"}},[n("Card",[n("div",[n("Table",{attrs:{columns:e.columnsList,data:e.tableData,border:"","disabled-hover":""}})],1),e._v(" "),n("div",{staticClass:"margin-top-15",staticStyle:{"text-align":"center"}},[n("Page",{attrs:{total:e.tableShow.listCount,current:e.tableShow.currentPage,"page-size":e.tableShow.pageSize,"show-elevator":"","show-sizer":"","show-total":""},on:{"on-change":e.changePage,"on-page-size-change":e.changeSize}})],1)])],1)],1),e._v(" "),n("Modal",{attrs:{title:"查看收款信息","class-name":"fl-image-modal"},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[1==e.imgInfo.type?n("div",{staticClass:"status"},[n("img",{staticStyle:{width:"100%"},attrs:{src:e.imgInfo.imgUrl}}),e._v(" "),n("div",[e._v("收款类型:"+e._s(e.imgInfo.type_name))]),e._v(" "),n("div",[e._v("二维码链接:"+e._s(e.imgInfo.pay_qrcode_url))])]):e._e(),e._v(" "),2==e.imgInfo.type?n("div",{staticClass:"status"},[n("div",[e._v("收款类型:"+e._s(e.imgInfo.type_name))]),e._v(" "),n("div",[e._v("收款账号:"+e._s(e.imgInfo.account))]),e._v(" "),n("div",[e._v("真实姓名:"+e._s(e.imgInfo.real_name))])]):e._e(),e._v(" "),3==e.imgInfo.type?n("div",{staticClass:"status"},[n("div",[e._v("收款类型:"+e._s(e.imgInfo.type_name))]),e._v(" "),n("div",[e._v("所属银行:"+e._s(e.imgInfo.bank_name))]),e._v(" "),n("div",[e._v("收款卡号:"+e._s(e.imgInfo.bank_card))]),e._v(" "),n("div",[e._v("开户人:"+e._s(e.imgInfo.bank_account))]),e._v(" "),n("div",[e._v("备注:"+e._s(e.imgInfo.bank_desc))])]):e._e()])],1)},i=[];a._withStripped=!0,t.render=a,t.staticRenderFns=i}});