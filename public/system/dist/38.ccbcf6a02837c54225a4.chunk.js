webpackJsonp([38],{250:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(292),i=a.n(n);for(var r in n)"default"!==r&&function(e){a.d(t,e,function(){return n[e]})}(r);var o=a(406),s=(a.n(o),a(4)),l=Object(s.a)(i.a,o.render,o.staticRenderFns,!1,null,null,null);l.options.__file="src\\views\\analyst\\platformstatements.vue",t.default=l.exports},292:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(91),r=(n(i),a(32)),o=n(r),s=function(e,t,a,n){return t("Button",{props:{type:"primary"},style:{margin:"0 5px"},on:{click:function(){e.memberSetting.show=!0,e.memberShow.id=a.id,e.getMemberList()}}},"查看")},l=function(e,t,a,n){return t("Poptip",{props:{confirm:!0,title:"您确认收款吗？",transfer:!0},on:{"on-ok":function(){o.default.get("Platform/confirm",{params:{id:a.id}}).then(function(t){a.loading=!1,1==t.data.code?(e.getList(),e.$Message.success(t.data.msg)):e.$Message.error(t.data.msg)})}}},[t("Button",{style:{margin:"0 5px"},props:{type:"info",placement:"top",loading:a.isDeleting}},"确认收款")])};t.default={name:"interface_group",data:function(){return{uploadUrl:"",uploadHeader:{},cityList:[],changeAgentData:[],changeAgentList:[],columnsList:[{title:"ID",width:65,align:"center",key:"id"},{title:"提现编号",align:"center",key:"withdraw_sn"},{title:"平台编号",align:"center",key:"platform_uid"},{title:"提现金额",align:"center",key:"money"},{title:"银行卡号",align:"center",key:"bank_card"},{title:"创建时间",align:"center",key:"create_time"},{title:"完成时间",align:"center",key:"update_time"},{title:"提现状态",align:"center",key:"status"},{title:"操作",align:"center",key:"handle",handle:["query","sureok"]}],tableData:[],tableShow:{currentPage:1,pageSize:10,listCount:0},searchConf:{merchant_uid:"",withdraw_sn:"",type:""},memberColumns:[{title:"序号",type:"index",width:65,align:"center"},{title:"代理商",align:"center",key:"agent_id"},{title:"付款人",align:"center",key:"type"},{title:"支付凭证",align:"center",key:"pic"},{title:"结算金额",align:"center",key:"money"},{title:"创建时间",align:"center",key:"create_time"},{title:"支付时间",align:"center",key:"pay_time"},{title:"支付状态",align:"center",key:"status"}],memberData:[],memberShow:{currentPage:1,pageSize:10,listCount:0,id:0},memberSetting:{show:!1,loading:!1,index:0},imgUrl:"",visible:!1,ruleValidate:{}}},created:function(){this.init(),this.getList()},methods:{handleAgent:function(e){var t=this;t.changeAgentData=[],e&&e.forEach(function(e){var a=JSON.parse(e.split(","));t.changeAgentData.push(a);for(var n=t.changeAgentData.push(a),i={},r=[],o=0;o<n;o++)i[t.changeAgentData[o].id]||(r.push(t.changeAgentData[o]),i[t.changeAgentData[o].id]=!0);t.changeAgentData=r})},handleView:function(e){this.imgUrl=e,this.visible=!0},init:function(){var e=this,t=this;this.columnsList.forEach(function(a){a.handle&&(a.render=function(e,a){var n=t.tableData[a.index];return 2==n.status&&0!=n.confirm?e("div",[s(t,e,n,a.index),l(t,e,n,a.index)]):e("div",[s(t,e,n,a.index)])}),"status"===a.key&&(a.render=function(e,a){return 1==t.tableData[a.index].status?e("Tag",{props:{color:"red"}},"等待打款"):e("Tag",{props:{color:"blue"}},"打款成功")}),e.memberColumns.forEach(function(a){"handle"===a.key&&(a.render=function(e,a){var n=t.memberData[a.index];return e("div",[memberDelButton(t,e,n,a.index)])}),"pic"===a.key&&(a.render=function(a,n){return a("div",[a("img",{attrs:{src:t.memberData[n.index].pic},style:{width:"80px",height:"80px",borderRadius:"2px",paddingTop:"5px"},on:{click:function(t){e.handleView(t.srcElement.currentSrc)}}})])})})})},changePage:function(e){this.tableShow.currentPage=e,this.getList()},changeSize:function(e){this.tableShow.pageSize=e,this.getList()},changeMemberPage:function(e){this.memberShow.currentPage=e,this.getMemberList()},changeMemberSize:function(e){this.memberShow.pageSize=e,this.getMemberList()},search:function(){this.tableShow.currentPage=1,this.getList()},getMemberList:function(){var e=this;o.default.get("Platform/viewDetails",{params:{page:e.memberShow.currentPage,size:e.memberShow.pageSize,id:e.memberShow.id}}).then(function(t){var a=t.data;1===a.code?(e.memberData=a.data.list,e.memberShow.listCount=a.data.count):-14===a.code?(e.$store.commit("logout",e),e.$router.push({name:"login"})):e.$Message.error(a.msg)})},getList:function(){var e=this;o.default.get("Platform/platformIndex",{params:{page:e.tableShow.currentPage,size:e.tableShow.pageSize,withdraw_sn:e.searchConf.withdraw_sn,merchant_uid:e.searchConf.merchant_uid,type:e.searchConf.type}}).then(function(t){var a=t.data;1===a.code?(e.tableData=a.data.list,e.tableShow.listCount=a.data.count):-14===a.code?(e.$store.commit("logout",e),e.$router.push({name:"login"})):e.$Message.error(a.msg)})},doCancel:function(e){}}}},406:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Row",[a("Col",{attrs:{span:"24"}},[a("Card",{staticStyle:{"margin-bottom":"10px"}},[a("Form",{attrs:{inline:""}},[a("FormItem",{staticStyle:{"margin-bottom":"0"}},[a("Select",{staticStyle:{width:"100px"},attrs:{clearable:"",placeholder:"请选择状态"},model:{value:e.searchConf.type,callback:function(t){e.$set(e.searchConf,"type",t)},expression:"searchConf.type"}},[a("Option",{attrs:{value:1}},[e._v("申请中")]),e._v(" "),a("Option",{attrs:{value:2}},[e._v("打款中")]),e._v(" "),a("Option",{attrs:{value:3}},[e._v("结算成功")]),e._v(" "),a("Option",{attrs:{value:4}},[e._v("拒绝申请")])],1)],1),e._v(" "),a("FormItem",{staticStyle:{"margin-bottom":"0"}},[a("Input",{attrs:{placeholder:"请输入提现编号"},model:{value:e.searchConf.withdraw_sn,callback:function(t){e.$set(e.searchConf,"withdraw_sn",t)},expression:"searchConf.withdraw_sn"}})],1),e._v(" "),a("FormItem",{staticStyle:{"margin-bottom":"0"}},[a("Input",{attrs:{placeholder:"请输入商户编号"},model:{value:e.searchConf.merchant_uid,callback:function(t){e.$set(e.searchConf,"merchant_uid",t)},expression:"searchConf.merchant_uid"}})],1),e._v(" "),a("FormItem",{staticStyle:{"margin-bottom":"0"}},[a("Button",{attrs:{type:"primary"},on:{click:e.search}},[e._v("查询/刷新")])],1)],1)],1)],1)],1),e._v(" "),a("Row",[a("Col",{attrs:{span:"24"}},[a("Card",[a("div",[a("Table",{attrs:{columns:e.columnsList,data:e.tableData,border:"","disabled-hover":""}})],1),e._v(" "),a("div",{staticClass:"margin-top-15",staticStyle:{"text-align":"center"}},[a("Page",{attrs:{total:e.tableShow.listCount,current:e.tableShow.currentPage,"page-size":e.tableShow.pageSize,"show-elevator":"","show-sizer":"","show-total":""},on:{"on-change":e.changePage,"on-page-size-change":e.changeSize}})],1)])],1)],1),e._v(" "),a("Modal",{attrs:{width:"80%",styles:{top:"30px"}},model:{value:e.memberSetting.show,callback:function(t){e.$set(e.memberSetting,"show",t)},expression:"memberSetting.show"}},[a("p",{staticStyle:{color:"#2d8cf0"},attrs:{slot:"header"},slot:"header"},[a("Icon",{attrs:{type:"md-information-circle"}}),e._v(" "),a("span",[e._v("平台提现佣金详情")])],1),e._v(" "),a("div",[a("Table",{attrs:{columns:e.memberColumns,data:e.memberData,border:"","disabled-hover":""}})],1),e._v(" "),a("div",{staticClass:"margin-top-15",staticStyle:{"text-align":"center"}},[a("Page",{attrs:{total:e.memberShow.listCount,current:e.memberShow.currentPage,"page-size":e.memberShow.pageSize,"show-elevator":"","show-sizer":"","show-total":""},on:{"on-change":e.changeMemberPage,"on-page-size-change":e.changeMemberSize}})],1),e._v(" "),a("p",{attrs:{slot:"footer"},slot:"footer"})]),e._v(" "),a("Modal",{attrs:{title:"查看大图","class-name":"fl-image-modal"},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[e.visible?a("img",{staticStyle:{width:"100%"},attrs:{src:e.imgUrl}}):e._e()])],1)},i=[];n._withStripped=!0,t.render=n,t.staticRenderFns=i}});